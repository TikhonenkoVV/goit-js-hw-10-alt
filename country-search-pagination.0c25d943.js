!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){r[t]=e},e.parcelRequired7c6=o),o.register("kMC0W",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(Array.isArray(t))return r.default(t)};var n,r=(n=o("8NIkP"))&&n.__esModule?n:{default:n}})),o.register("8NIkP",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}})),o.register("7AJDX",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}})),o.register("8CtQK",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),o.register("auk6i",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){if(!t)return;if("string"==typeof t)return r.default(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(t,e)};var n,r=(n=o("8NIkP"))&&n.__esModule?n:{default:n}}));var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var i={};function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e,n){e&&u(t.prototype,e);n&&u(t,n);return t};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(t){return s.default(t)||l.default(t)||d.default(t)||f.default()};var s=p(o("kMC0W")),l=p(o("7AJDX")),f=p(o("8CtQK")),d=p(o("auk6i"));function p(t){return t&&t.__esModule?t:{default:t}}var v,g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(t){return t&&t.constructor===Symbol?"symbol":typeof t};var m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,h=/^0o[0-7]+$/i,x=parseInt,L="object"==typeof e&&e&&e.Object===Object&&e,_="object"==typeof self&&self&&self.Object===Object&&self,O=L||_||Function("return this")(),j=Object.prototype.toString,C=Math.max,M=Math.min,w=function(){return O.Date.now()};function E(e){var n=void 0===e?"undefined":t(g)(e);return!!e&&("object"==n||"function"==n)}function T(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":t(g)(e))||function(t){return!!t&&"object"==typeof t}(e)&&"[object Symbol]"==j.call(e)}(e))return NaN;if(E(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=E(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var r=b.test(e);return r||h.test(e)?x(e.slice(2),r?2:8):y.test(e)?NaN:+e}v=function(t,e,n){var r,o,a,i,u,c,s=0,l=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,a=o;return r=o=void 0,s=e,i=t.apply(a,n)}function v(t){return s=t,u=setTimeout(m,e),l?p(t):i}function g(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-s>=a}function m(){var t=w();if(g(t))return y(t);u=setTimeout(m,function(t){var n=e-(t-c);return f?M(n,a-(t-s)):n}(t))}function y(t){return u=void 0,d&&r?p(t):(r=o=void 0,i)}function b(){var t=w(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return v(c);if(f)return u=setTimeout(m,e),p(c)}return void 0===u&&(u=setTimeout(m,e)),i}return e=T(e)||0,E(n)&&(l=!!n.leading,a=(f="maxWait"in n)?C(T(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?i:y(w())},b};var S={searchField:document.querySelector("#country-search-box"),countriesList:document.querySelector(".country-info-box"),paginationBox:document.querySelector(".pagination__items-box"),pageCounter:document.querySelector(".pagination__page-counter"),countryCounter:document.querySelector(".pagination__elements-counter"),errorOverlay:document.querySelector(".error")},P=function(t){return Math.ceil(t/10)},k=function(t){var e=A;if(B!==I&&(e="".concat(N,"name/").concat(S.searchField.value)),""!==t.target.textContent){var n=+t.target.textContent;$(e,null,n)}else{if("BUTTON"!==t.target.tagName)return;var r={fields:"name,flags,"};t.target.classList.contains("start")&&$(e,r,1),t.target.classList.contains("end")&&$(e,r,P(B)),t.target.classList.contains("next")&&(1===H?$(e,r,H+3):H===P(B)-1?$(e,r,H+1):$(e,r,H+2)),t.target.classList.contains("prev")&&(H===P(B)?$(e,r,H-3):$(e,r,2===H?H-1:H-2))}},q=function(e,n){var r,o=P(e);if(S.paginationBox.innerHTML="",S.pageCounter.textContent="Page count: ".concat(o),S.countryCounter.textContent="Country count: ".concat(e),!(e<11)){var a=[];if(P(B)<8)for(var i=0;i<P(B);i+=1){var u=document.createElement("button");u.classList.add("pagination-dot"),u.textContent=i+1,a.push(u)}else{var s=P(B),l=document.createElement("button");l.classList.add("pagination-dot","start");var f=document.createElement("button");f.classList.add("pagination-dot","prev");var d=document.createElement("button");d.classList.add("pagination-dot","next");var p=document.createElement("button");p.classList.add("pagination-dot","end"),a.push(l,f);for(var v=0;v<3;v+=1){var g=document.createElement("button");g.classList.add("pagination-dot"),0===v&&(g.textContent=1===n?v+1:n===s?n-2:n-1),1===v&&(g.textContent=1===n?v+1:n===s?n-1:n),2===v&&(g.textContent=1===n?v+1:n===s?n:n+1),a.push(g)}a.push(d,p),1===n&&(l.disabled=!0,f.disabled=!0),n===o&&(d.disabled=!0,p.disabled=!0)}(r=S.paginationBox).append.apply(r,t(c)(a)),document.querySelectorAll(".pagination-dot").forEach((function(t){+t.textContent.trim()===n&&t.classList.add("current")})),S.paginationBox.addEventListener("click",k)}};console.log("Hi!");var N="https://restcountries.com/v3.1/",A=N+"all",H=1,I=0,B=0,F=function(){"use strict";function e(){t(a)(this,e)}return t(i)(e,null,[{key:"request",value:function(t,e){return fetch(t,e).then((function(t){if(!t.ok)throw new Error("ERROR");return t.json()})).catch((function(t){S.countryCounter.textContent="",S.pageCounter.textContent="",S.paginationBox.innerHTML=""}))}},{key:"get",value:function(t,n){return e.request(t+(n?"?".concat(new URLSearchParams(n)):""))}}]),e}(),R=function(t){return'<a class="card">\n                <img src="'.concat(t.flags.svg,'" alt="').concat(t.flags.alt,'" width="100" height="50">\n                <p>').concat(t.name.official,"</p>\n            </a>")},D=function(t){return'<div class="country-card"><img src="'.concat(t.flags.svg,'" alt="').concat(t.flags.alt,'" width="200" height="100">\n    <div>\n            <h2 class="country-info__title">').concat(t.name.official,"</H2>\n            <p>Capital: ").concat(t.capital,"</p>\n            <p>Population: ").concat(t.population,"</p>\n            <p>Languages: ").concat(Object.values(t.languages).join(", "),"</p>\n            </div>\n            </div>")},U=function(t){if("A"===t.target.tagName){var e=t.target.querySelector("p").textContent.trim(),n="".concat(N,"name/").concat(e);S.searchField.value=e,$(n,{fields:"name,capital,population,flags,languages,"},1)}},$=function(e,n,r){F.get(e,n).then((function(e){if(e){S.errorOverlay.classList.contains("is-none")||S.errorOverlay.classList.add("is-none"),0===I&&(I=e.length),B=e.length;var n=10*r-10,o=10*r;H=r;var a=e.slice(n,o);null===B&&(B=e.length),B>1?(S.countriesList.classList.contains("grid")||S.countriesList.classList.add("grid"),S.countriesList.innerHTML=a.map(R).join(""),S.countriesList.addEventListener("click",U)):(S.countriesList.classList.remove("grid"),S.countriesList.innerHTML=D.apply(void 0,t(c)(a))),q(B,H)}else S.errorOverlay.classList.remove("is-none"),S.countriesList.innerHTML=""}))},W=function(){$(A,{fields:"name,flags,"},1)};W(),S.searchField.addEventListener("input",t(v)((function(t){if(t.target.value.trim()){var e="".concat(N,"name/").concat(t.target.value.trim());$(e,{fields:"name,capital,population,flags,languages,"},1)}else W()}),300))}();
//# sourceMappingURL=country-search-pagination.0c25d943.js.map
