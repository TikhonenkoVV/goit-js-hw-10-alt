function t(t){return t&&t.__esModule?t.default:t}var e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof n&&n&&n.Object===Object&&n,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,g=Math.min,p=function(){return l.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=a.test(t);return n||r.test(t)?s(t.slice(2),n?2:8):i.test(t)?NaN:+t}e=function(t,e,n){var o,i,a,r,s,c,u=0,l=!1,d=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function h(e){var n=o,a=i;return o=i=void 0,u=e,r=t.apply(a,n)}function L(t){return u=t,s=setTimeout(x,e),l?h(t):r}function b(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-u>=a}function x(){var t=p();if(b(t))return $(t);s=setTimeout(x,function(t){var n=e-(t-c);return d?g(n,a-(t-u)):n}(t))}function $(t){return s=void 0,y&&o?h(t):(o=i=void 0,r)}function C(){var t=p(),n=b(t);if(o=arguments,i=this,c=t,n){if(void 0===s)return L(c);if(d)return s=setTimeout(x,e),h(c)}return void 0===s&&(s=setTimeout(x,e)),r}return e=v(e)||0,m(n)&&(l=!!n.leading,a=(d="maxWait"in n)?f(v(n.maxWait)||0,e):a,y="trailing"in n?!!n.trailing:y),C.cancel=function(){void 0!==s&&clearTimeout(s),u=0,o=c=i=s=void 0},C.flush=function(){return void 0===s?r:$(p())},C};const y={searchField:document.querySelector("#country-search-box"),countriesList:document.querySelector(".country-info-box"),paginationBox:document.querySelector(".pagination__items-box"),pageCounter:document.querySelector(".pagination__page-counter"),countryCounter:document.querySelector(".pagination__elements-counter"),errorOverlay:document.querySelector(".error")},h=t=>Math.ceil(t/10),L=t=>{let e=$;if(j!==T&&(e=`${x}name/${y.searchField.value}`),""!==t.target.textContent){const n=+t.target.textContent;S(e,null,n)}else{if("BUTTON"!==t.target.tagName)return;const n={fields:"name,flags,"};t.target.classList.contains("start")&&S(e,n,1),t.target.classList.contains("end")&&S(e,n,h(j)),t.target.classList.contains("next")&&(1===C?S(e,n,C+3):C===h(j)-1?S(e,n,C+1):S(e,n,C+2)),t.target.classList.contains("prev")&&(C===h(j)?S(e,n,C-3):S(e,n,2===C?C-1:C-2))}},b=(t,e)=>{const n=h(t);if(y.paginationBox.innerHTML="",y.pageCounter.textContent=`Page count: ${n}`,y.countryCounter.textContent=`Country count: ${t}`,t<11)return;let o=[];if(h(j)<8)for(let t=0;t<h(j);t+=1){const e=document.createElement("button");e.classList.add("pagination-dot"),e.textContent=t+1,o.push(e)}else{const t=h(j),i=document.createElement("button");i.classList.add("pagination-dot","start");const a=document.createElement("button");a.classList.add("pagination-dot","prev");const r=document.createElement("button");r.classList.add("pagination-dot","next");const s=document.createElement("button");s.classList.add("pagination-dot","end"),o.push(i,a);for(let n=0;n<3;n+=1){const i=document.createElement("button");i.classList.add("pagination-dot"),0===n&&(i.textContent=1===e?n+1:e===t?e-2:e-1),1===n&&(i.textContent=1===e?n+1:e===t?e-1:e),2===n&&(i.textContent=1===e?n+1:e===t?e:e+1),o.push(i)}o.push(r,s),1===e&&(i.disabled=!0,a.disabled=!0),e===n&&(r.disabled=!0,s.disabled=!0)}y.paginationBox.append(...o);document.querySelectorAll(".pagination-dot").forEach((t=>{+t.textContent.trim()===e&&t.classList.add("current")})),y.paginationBox.addEventListener("click",L)},x="https://restcountries.com/v3.1/",$=x+"all";let C=1,T=0,j=0;class E{static request(t,e){return fetch(t,e).then((t=>{if(!t.ok)throw new Error("ERROR");return t.json()})).catch((t=>{y.countryCounter.textContent="",y.pageCounter.textContent="",y.paginationBox.innerHTML=""}))}static get(t,e){return E.request(t+(e?`?${new URLSearchParams(e)}`:""))}}const O=t=>`<a class="card">\n                <img src="${t.flags.svg}" alt="${t.flags.alt}" width="100" height="50">\n                <p>${t.name.official}</p>\n            </a>`,w=t=>{if("A"!==t.target.tagName)return;const e=t.target.querySelector("p").textContent.trim(),n=`${x}name/${e}`;y.searchField.value=e,S(n,{fields:"name,capital,population,flags,languages,"},1)},S=(t,e,n)=>{E.get(t,e).then((t=>{if(t){y.errorOverlay.classList.contains("is-none")||y.errorOverlay.classList.add("is-none"),0===T&&(T=t.length),j=t.length;const e=10*n-10,o=10*n;C=n;const i=t.slice(e,o);null===j&&(j=t.length),j>1?(y.countriesList.classList.contains("grid")||y.countriesList.classList.add("grid"),y.countriesList.innerHTML=i.map(O).join(""),y.countriesList.addEventListener("click",w)):(y.countriesList.classList.remove("grid"),y.countriesList.innerHTML=(t=>`<div class="country-card"><img src="${t.flags.svg}" alt="${t.flags.alt}" width="200" height="100">\n    <div>\n            <h2 class="country-info__title">${t.name.official}</H2>\n            <p>Capital: ${t.capital}</p>\n            <p>Population: ${t.population}</p>\n            <p>Languages: ${Object.values(t.languages).join(", ")}</p>\n            </div>\n            </div>`)(...i)),b(j,C)}else y.errorOverlay.classList.remove("is-none"),y.countriesList.innerHTML=""}))},q=()=>{S($,{fields:"name,flags,"},1)};q(),y.searchField.addEventListener("input",t(e)((t=>{if(!t.target.value.trim())return void q();const e=`${x}name/${t.target.value.trim()}`;S(e,{fields:"name,capital,population,flags,languages,"},1)}),300));
//# sourceMappingURL=country-search.0ab45712.js.map
